{
  description = "A bunch of hacking tools for NixOS";
  inputs = {
    systems.url = "github:nix-systems/default";
    poetry2nix.url = "github:nix-community/poetry2nix";
  };
  outputs = { self, systems, poetry2nix, nixpkgs }:
    let
      eachSystem = nixpkgs.lib.genAttrs (import systems);
    in
    {
      packages = eachSystem (system:
        let
          pkgs = import nixpkgs {
            inherit system;
          };
          poetry2nixpkgs = import nixpkgs {
            inherit system;
            overlays = [
              poetry2nix.overlays.default
            ];
          };
        in
        {
          behinder = pkgs.callPackage ./packages/behinder.nix { };
          fenjing = pkgs.callPackage ./packages/fenjing.nix { };
          shiro-attack2 = pkgs.callPackage ./packages/shiro-attack2.nix { };
          stowaway = pkgs.callPackage ./packages/stowaway.nix { };
          python-ten = poetry2nixpkgs.callPackage ./packages/python-ten/default.nix { poetry2nixpkgs = poetry2nixpkgs;};
          cnext-exploit = pkgs.callPackage ./packages/cnext-exploit.nix { };
        });
    };
}

